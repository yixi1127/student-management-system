# 学生管理系统 - 功能说明

## 项目概述
基于 Vue3 + Vite + Element Plus + MySQL + Express 的学生管理系统

## 已完成功能

### 1. 用户认证
- ✅ 登录功能 (支持管理员、教师、学生角色)
- ✅ JWT Token 认证
- ✅ 用户信息存储 (Pinia)
- ✅ 路由守卫

**测试账号:**
- 管理员: admin@example.com / 123456
- 教师: teacher1@example.com / 123456
- 学生: zhangsan@example.com / 123456

### 2. 数据看板 (Dashboard)
- ✅ 统计卡片: 学生总数、课程总数、教师总数、出勤率
- ✅ 成绩分布统计 (饼图)
  - 支持按课程筛选
  - 图例显示在右侧
- ✅ 考勤统计 (柱状图)
  - 支持时间范围选择 (7/14/30天)
  - 显示正常、迟到、早退、旷课、请假
  - 图例显示在右侧
- ✅ 最新通知列表
- ✅ 所有数据来自真实数据库

### 3. 学生管理
- ✅ 学生列表展示 (分页)
- ✅ 添加学生 (自动创建用户账号)
- ✅ 编辑学生信息
- ✅ 删除学生
- ✅ 查看学生详情
- ✅ 搜索功能 (学号、姓名、年级、班级)
- ✅ 导出功能 (CSV格式)
- ✅ 批量导入说明 (SQL模板)

**显示字段:**
学号、姓名、性别、年级、班级、联系电话、邮箱、状态

### 4. 课程管理
- ✅ 课程列表展示
- ✅ 添加课程
- ✅ 编辑课程
- ✅ 删除课程
- ✅ 选课人数统计 (自动计算)
- ✅ 搜索功能 (课程编号、课程名称)

**显示字段:**
课程编号、课程名称、学分、授课教师、上课时间、上课地点、选课人数、状态

### 5. 选课管理 (新增)
- ✅ 选课记录列表
- ✅ 添加选课
- ✅ 退课功能
- ✅ 防重复选课
- ✅ 搜索功能 (学号、课程名称)

**显示字段:**
学号、姓名、年级、班级、课程编号、课程名称、学分、授课教师、状态、选课时间

### 6. 成绩管理
- ✅ 成绩列表展示
- ✅ 录入成绩
- ✅ 编辑成绩
- ✅ 删除成绩
- ✅ 自动计算总分 (平时分30% + 期末分70%)
- ✅ 搜索功能 (学号、课程名称)

**显示字段:**
学号、姓名、年级、班级、课程名称、平时分、期末分、总分、录入教师、更新时间

### 7. 考勤管理
- ✅ 考勤记录列表
- ✅ 考勤录入
- ✅ 编辑考勤
- ✅ 删除考勤
- ✅ 日期范围搜索
- ✅ 课程筛选

**显示字段:**
学号、姓名、年级、班级、课程、日期、考勤类型、原因、录入教师

**考勤类型:**
正常、迟到、早退、旷课、请假

### 8. 通知管理
- ✅ 通知列表展示
- ✅ 发布通知
- ✅ 查看通知详情
- ✅ 删除通知
- ✅ 真实数据录入

**通知类型:**
系统、课程、考试

**接收对象:**
全部、学生、教师、管理员

### 9. 个人中心
- ✅ 查看个人信息
- ✅ 修改密码
- ✅ 更新个人资料

## 技术栈

### 前端
- Vue 3 (Composition API)
- Vite
- Element Plus
- Vue Router
- Pinia (状态管理)
- Axios (HTTP请求)
- ECharts (图表)

### 后端
- Node.js
- Express
- MySQL2
- JWT (身份认证)
- dotenv (环境变量)

### 数据库
- MySQL 8.0

## 数据库表结构

1. **users** - 用户表 (管理员、教师、学生)
2. **students** - 学生信息表
3. **courses** - 课程表
4. **student_courses** - 选课记录表
5. **scores** - 成绩表
6. **attendance** - 考勤记录表
7. **notifications** - 通知表
8. **notification_reads** - 通知已读记录表

## 启动方式

### 1. 数据库初始化
```bash
# 在 MySQL Workbench 中执行
student-management-system/database-mysql.sql
```

### 2. 启动后端
```bash
cd student-management-system/server
node index.js
# 运行在 http://localhost:3001
```

### 3. 启动前端
```bash
cd student-management-system
npm run dev
# 运行在 http://localhost:3000
```

## 功能特点

### 数据真实性
- ✅ 所有数据来自 MySQL 数据库
- ✅ 无模拟数据
- ✅ 实时统计计算

### 用户体验
- ✅ 响应式设计
- ✅ 加载状态提示
- ✅ 操作确认提示
- ✅ 表单验证
- ✅ 搜索和筛选
- ✅ 分页功能

### 数据关联
- ✅ 学生-用户关联
- ✅ 选课-学生-课程关联
- ✅ 成绩-学生-课程关联
- ✅ 考勤-学生-课程关联
- ✅ 自动统计选课人数
- ✅ 自动计算成绩总分

## 批量操作

### 批量导入学生
使用 SQL 模板文件: `批量导入学生模板.sql`

### 批量导出学生
点击"导出数据"按钮,导出为 CSV 格式

## 注意事项

1. **默认密码**: 新添加的学生默认密码为 `123456`
2. **邮箱唯一**: 每个用户的邮箱必须唯一
3. **学号唯一**: 每个学生的学号必须唯一
4. **数据库连接**: 确保 MySQL 服务正在运行
5. **端口占用**: 后端默认使用 3001 端口

## 已知限制

1. **批量导入**: 需要通过 SQL 脚本或数据库工具导入
2. **文件上传**: 通知附件上传功能未实现
3. **Excel导入**: 需要安装额外的库 (xlsx)

## 未来改进

- [ ] Excel 批量导入功能
- [ ] 文件上传功能
- [ ] 数据统计报表
- [ ] 消息推送功能
- [ ] 移动端适配
- [ ] 权限细化管理

## 项目结构

```
student-management-system/
├── server/                 # 后端
│   ├── routes/            # API 路由
│   ├── config/            # 配置文件
│   ├── middleware/        # 中间件
│   └── index.js           # 入口文件
├── src/                   # 前端
│   ├── views/             # 页面组件
│   ├── router/            # 路由配置
│   ├── stores/            # 状态管理
│   └── utils/             # 工具函数
├── database-mysql.sql     # 数据库初始化脚本
└── 批量导入学生模板.sql   # 批量导入模板
```

## 联系方式

如有问题,请查看项目文档或联系开发团队。
