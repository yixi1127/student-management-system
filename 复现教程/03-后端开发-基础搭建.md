# ç¬¬ä¸‰æ­¥ï¼šåç«¯å¼€å‘ - åŸºç¡€æ­å»º

## 1. åˆ›å»ºåç«¯é¡¹ç›®

```bash
cd student-management-system
mkdir server
cd server
npm init -y
```

## 2. å®‰è£…ä¾èµ–åŒ…

```bash
npm install express mysql2 cors dotenv jsonwebtoken bcryptjs
```

ä¾èµ–è¯´æ˜ï¼š
- express: Webæ¡†æ¶
- mysql2: MySQLæ•°æ®åº“é©±åŠ¨
- cors: å¤„ç†è·¨åŸŸ
- dotenv: ç¯å¢ƒå˜é‡ç®¡ç†
- jsonwebtoken: JWTè®¤è¯
- bcryptjs: å¯†ç åŠ å¯†

## 3. åˆ›å»ºé¡¹ç›®ç»“æ„

```bash
mkdir config middleware routes
```

## 4. åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶

åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=Gpnu115214@
DB_NAME=student_management
JWT_SECRET=your-secret-key-here
PORT=3001
```

## 5. åˆ›å»ºæ•°æ®åº“é…ç½®

åˆ›å»º `config/db.js`ï¼š
```javascript
import mysql from 'mysql2/promise'
import dotenv from 'dotenv'

dotenv.config()

const pool = mysql.createPool({
  host: process.env.DB_HOST,
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  database: process.env.DB_NAME,
  waitForConnections: true,
  connectionLimit: 10
})

export default pool
```

## 6. åˆ›å»ºè®¤è¯ä¸­é—´ä»¶

åˆ›å»º `middleware/auth.js`ï¼š
```javascript
import jwt from 'jsonwebtoken'

export const authMiddleware = (req, res, next) => {
  try {
    const token = req.headers.authorization?.split(' ')[1]
    
    if (!token) {
      return res.status(401).json({ code: 401, message: 'æœªæä¾›è®¤è¯ä»¤ç‰Œ' })
    }
    
    const decoded = jwt.verify(token, process.env.JWT_SECRET)
    req.user = decoded
    next()
  } catch (error) {
    return res.status(401).json({ code: 401, message: 'è®¤è¯å¤±è´¥' })
  }
}
```

## 7. åˆ›å»ºä¸»æœåŠ¡å™¨æ–‡ä»¶

åˆ›å»º `index.js`ï¼š
```javascript
import express from 'express'
import cors from 'cors'
import dotenv from 'dotenv'
import db from './config/db.js'

dotenv.config()

const app = express()
const PORT = process.env.PORT || 3001

// ä¸­é—´ä»¶
app.use(cors())
app.use(express.json())

// æµ‹è¯•è·¯ç”±
app.get('/api', (req, res) => {
  res.json({ message: 'å­¦ç”Ÿç®¡ç†ç³»ç»ŸAPI' })
})

// æµ‹è¯•æ•°æ®åº“è¿æ¥
db.query('SELECT 1')
  .then(() => {
    console.log('âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ')
  })
  .catch(err => {
    console.error('âŒ æ•°æ®åº“è¿æ¥å¤±è´¥:', err)
  })

// å¯åŠ¨æœåŠ¡å™¨
app.listen(PORT, () => {
  console.log(`ğŸš€ æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:${PORT}`)
  console.log(`ğŸ“Š API æ–‡æ¡£: http://localhost:${PORT}/api`)
})
```

## 8. ä¿®æ”¹package.json

åœ¨ `package.json` ä¸­æ·»åŠ ï¼š
```json
{
  "type": "module",
  "scripts": {
    "start": "node index.js",
    "dev": "node index.js"
  }
}
```

## 9. æµ‹è¯•è¿è¡Œ

```bash
npm start
```

åº”è¯¥çœ‹åˆ°ï¼š
```
ğŸš€ æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3001
ğŸ“Š API æ–‡æ¡£: http://localhost:3001/api
âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ
```

è®¿é—® http://localhost:3001/api åº”è¯¥çœ‹åˆ°JSONå“åº”

## ä¸‹ä¸€æ­¥

åŸºç¡€æ­å»ºå®Œæˆåï¼Œç»§ç»­é˜…è¯» `04-åç«¯å¼€å‘-APIå®ç°.md`
